<!DOCTYPE html>
<html>
<head>
	<title>Cadenas | charAt()</title>
	<meta charset="utf-8">
	<script>
		function caracteresInvalidos(cadena){
			var invalidos = "àèìòùÀÌÙñÑ ()<>;:[]%&";
			var bandera = false;
			for(i=0; i<invalidos.length;i++){
				var c = invalidos.charAt(i)
				if(cadena.indexOf(c)!=-1){
					bandera = true;
					break;
				}
			}
			return bandera;
		}
		var correo1 = "pacoarce@gmail.com.mx";
		var correo2 = "PacoArce@gmail.com.mx";
		//PacoArce@gmail.com.mx;
		//012345678
		var pos = correo2.indexOf("@");
		console.log(pos);
		var punto = correo2.indexOf(".",pos+1);
		console.log(punto);
		//Primera validacion de: longitud
		if(correo1.length<10){
			document.write("La clave de acceso es muy corta<br>");
		} else if(pos==-1){
			document.write("El correo no tiene la arroba<br>");
		} else if(punto==-1){
			document.write("El correo debe tener al menos un punto<br>");
		} else if(caracteresInvalidos(correo2)){
			document.write("El correo tiene caracteres invalidos<br>");

		} else if(!(correo1.toUpperCase()==correo2.toUpperCase())){//minuscula
				document.write("Las claves coinciden<br>");
				
   		} else {
			servicio = correo2.slice(pos+1).toLowerCase();
			usuario = correo2.substr(0,pos).toLowerCase();
			document.write("<br><br>Tu servicio de correo es : <b>"+servicio+"</b><br>");
			document.write("Tu usuario de correo es  : <b>"+usuario+"</b><br>");
					document.write("Las claves coinciden<br>");
		}
		   	
		
		

	</script>
</head>
<body>

</body>
</html>